(function(t){function e(e){for(var s,o,i=e[0],c=e[1],u=e[2],d=0,h=[];d<i.length;d++)o=i[d],r[o]&&h.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},r={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/nem2-wallet/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1:function(t,e){},"15a3":function(t,e,n){"use strict";var s=n("a882"),r=n.n(s);r.a},2:function(t,e){},"2e5b":function(t,e,n){},3:function(t,e){},3633:function(t,e,n){"use strict";var s=n("2e5b"),r=n.n(s);r.a},4:function(t,e){},5:function(t,e){},"7faf":function(t,e,n){"use strict";var s=n("8fba"),r=n.n(s);r.a},"8fba":function(t,e,n){},a882:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",[n("span",[t._v(t._s(t.title)+" ")])]),n("v-content",{staticClass:"main__content"},[n("v-fade-transition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1)],1)},a=[],o=n("9ab4"),i=n("60a3"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="NEM2 wallet",e}return o["c"](e,t),e}(i["d"]),u=c,l=u,d=(n("7faf"),n("2877")),h=Object(d["a"])(l,r,a,!1,null,null,null),f=h.exports,p=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homepage"},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[null!==t.wallet?n("v-card",[n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-actions",[n("v-card-title",[n("h3",[t._v("Network")])])],1),n("div",[n("table",{staticClass:"table__list",attrs:{border:"1"}},[n("tr",[n("td",{staticClass:"table__key",attrs:{width:"15%"}},[t._v("net")]),n("td",{staticClass:"table__value",attrs:{width:"85%"}},[t._v(t._s(t.network.net))])]),n("tr",[n("td",{staticClass:"table__key",attrs:{width:"15%"}},[t._v("endpoint")]),n("td",{staticClass:"table__value",attrs:{width:"85%"}},[n("a",{attrs:{href:t.network.explorer,target:"_blank"}},[t._v(t._s(t.network.endpoint))])])]),n("tr",[n("td",{staticClass:"table__key",attrs:{width:"15%"}},[t._v("faucet")]),n("td",{staticClass:"table__value",attrs:{width:"85%"}},[n("a",{attrs:{href:t.network.faucetUrl,target:"_blank"}},[t._v(t._s(t.network.faucetUrl))])])])])]),n("v-card-actions",[n("v-card-title",[n("h3",[t._v("Balance")])]),n("v-spacer"),n("v-btn",{attrs:{fab:"",small:"",flat:"",loading:t.isLoading},on:{click:function(e){return t.onLoadBalance()}}},[n("v-icon",[t._v("cached")])],1)],1),n("v-card-text",[t._v(t._s(t.balance)+" xem")]),n("v-card-actions",[n("v-card-title",[n("h3",[t._v("Address")])])],1),n("v-card-text",[t._v(t._s(t.wallet.address))]),n("v-card",{attrs:{flat:""}},[n("qriously",{attrs:{size:200},model:{value:t.qrJson,callback:function(e){t.qrJson=e},expression:"qrJson"}})],1),n("div",[n("a",{attrs:{href:"#"},on:{click:function(){return t.isShowPrivateKey=!t.isShowPrivateKey}}},[t._v("Show PrivateKey")]),t.isShowPrivateKey?n("div",{staticStyle:{margin:"8px"}},[t._v("\n              "+t._s(t.wallet.privateKey)+"\n            ")]):t._e()])],1),n("v-card",{attrs:{flat:""}},[n("v-card-actions",[n("v-card-title",[n("h3",[t._v("Send")])])],1),n("div",{staticStyle:{margin:"4px 26px"}},[n("v-text-field",{attrs:{label:"Address",required:"",placeholder:"SADW6WXZVIUWIJ6RAWFSM4F4SJRUBRVOARXXIFSH"},model:{value:t.sendCoinInfo.address,callback:function(e){t.$set(t.sendCoinInfo,"address",e)},expression:"sendCoinInfo.address"}}),n("v-text-field",{attrs:{label:"NEM",type:"number",required:""},model:{value:t.sendCoinInfo.amount,callback:function(e){t.$set(t.sendCoinInfo,"amount",e)},expression:"sendCoinInfo.amount"}}),n("v-text-field",{attrs:{label:"Message",placeholder:"Hello"},model:{value:t.sendCoinInfo.message,callback:function(e){t.$set(t.sendCoinInfo,"message",e)},expression:"sendCoinInfo.message"}})],1),n("v-flex",[n("v-btn",{staticClass:"white--text",attrs:{color:"blue",loading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.onSend()}}},[t._v("SEND")])],1),n("v-flex",[n("v-card-actions",[n("v-card-title",[n("h3",[t._v("Result")])])],1),t._l(t.errorMessages,function(e,s){return n("div",{key:s},[!0!==e?n("div",{staticClass:"errorLabel"},[t._v(t._s(e))]):t._e()])}),n("p",{domProps:{innerHTML:t._s(t.resultMessage)}})],2),n("v-flex",[n("v-card-actions",[n("v-card-title",[n("h3",[t._v("Transaction history")])]),t._v("\n              "+t._s(t.transactionHistory.length)+"\n              "),n("v-spacer"),n("v-btn",{attrs:{fab:"",small:"",flat:"",loading:t.isLoading},on:{click:function(e){return t.onLoadTransactionHistory(!0)}}},[n("v-icon",[t._v("cached")])],1)],1),n("div",{staticStyle:{margin:"4px 20px"}},[n("v-data-table",{attrs:{headers:t.headers,items:t.transactionHistory,pagination:t.pagination,"hide-actions":"","no-data-text":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",{on:{click:function(n){return t.onClick(e.item)}}},[n("td",[t._v(t._s(e.item.amount))]),n("td",[t._v(t._s(e.item.hash))]),n("td",[t._v(t._s(e.item.message))])])]}}],null,!1,2252649555)}),n("v-btn",{staticClass:"white--text",attrs:{color:"deep-orange lighten-3",loading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.onLoadTransactionHistory()}}},[t._v("MORE")])],1)],1)],1)],1)],1):t._e()],1)],1)},y=[],b=n("2f62"),m=n("340b"),g=n("10bf"),w=n.n(g),_=function(){function t(){}return t.qrJson=function(t,e,n,s,r,a){var o={type:e,data:{name:n,addr:s,amount:r*this.divisibility(),msg:a},v:t};return w.a.codeToString(w.a.convert(this.getStr2Array(JSON.stringify(o)),"UTF8"))},t.divisibility=function(){return Math.pow(10,6)},t.networkLabel=function(t){switch(t){case 104:return"MAIN_NET";case 152:return"TEST_NET";case 96:return"MIJIN";case 144:return"MIJIN_TEST";default:return"Unknow"}},t.getStr2Array=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e},t}(),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.balance=0,e.sendCoinInfo={address:"",amount:0,message:""},e.wallet=null,e.qrJson="",e.isShowPrivateKey=!1,e.errorMessages=[],e.resultMessage="",e.network={net:_.networkLabel(Number("144")),endpoint:"https://catapult-test.opening-line.jp:3001",explorer:"",faucetUrl:"https://ol-catapult-faucet.herokuapp.com/"},e.headers=[{text:"amount",value:"amount"},{text:"txHash",value:"hash"},{text:"message",value:"message"}],e.pagination={sortBy:"date",descending:!0,rowsPerPage:-1},e.transactionHistory=[],e}return o["c"](e,t),e.prototype.onValueChange=function(t,e){this.qrJson=_.qrJson(2,2,"nem2-wallet",t,0,"")},e.prototype.mounted=function(){i["d"].prototype.$toast("Hello NEM2 wallet"),this.configure()},e.prototype.configure=function(){return o["a"](this,void 0,void 0,function(){var t,e;return o["d"](this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),t=this,[4,this.fetchLoadWalletUseCase.execute()];case 1:return t.wallet=n.sent(),[4,this.onLoadBalance()];case 2:return n.sent(),[4,this.onLoadTransactionHistory()];case 3:return n.sent(),[3,5];case 4:return e=n.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.onLoadBalance=function(){return o["a"](this,void 0,void 0,function(){var t,e;return o["d"](this,function(n){switch(n.label){case 0:this.$store.commit("startLoading"),n.label=1;case 1:return n.trys.push([1,3,,4]),null===this.wallet?[2]:(t=this,[4,this.fetchLoadBalanceUseCase.execute(this.wallet.address)]);case 2:return t.balance=n.sent(),console.log("balance",this.balance),[3,4];case 3:return e=n.sent(),console.error("balance",e),[3,4];case 4:return this.$store.commit("stopLoading"),[2]}})})},e.prototype.onSend=function(){return o["a"](this,void 0,void 0,function(){var t,e;return o["d"](this,function(n){switch(n.label){case 0:this.$store.commit("startLoading"),n.label=1;case 1:if(n.trys.push([1,4,,5]),this.resultMessage="",0!==this.validation().length)throw new Error("Cloud not send coin.");return[4,this.fetchLoadWalletUseCase.execute()];case 2:return n.sent(),[4,this.fetchSendCoinUseCase.execute(this.sendCoinInfo.address,Number(this.sendCoinInfo.amount),this.sendCoinInfo.message)];case 3:return t=n.sent(),console.log("sendCoin",t),this.resultMessage="SUCCESS: "+t.hash,[3,5];case 4:return e=n.sent(),console.error("sendCoin",e),this.resultMessage="FAILED: "+e.message,[3,5];case 5:return i["d"].prototype.$toast(this.resultMessage),this.$store.commit("stopLoading"),[2]}})})},e.prototype.onClick=function(t){console.log("onClick",t),this.$router.push({name:"transaction_page",params:{transactionId:t.id}})},e.prototype.onLoadTransactionHistory=function(t){return void 0===t&&(t=!1),o["a"](this,void 0,void 0,function(){var e,n,s;return o["d"](this,function(r){switch(r.label){case 0:this.$store.commit("startLoading"),r.label=1;case 1:return r.trys.push([1,3,,4]),!0===t&&(this.transactionHistory=[],this.transactionId=void 0),[4,this.fetchLoadTransactionHistoryUseCase.executeTransferHistoryAll(20,this.transactionId)];case 2:return e=r.sent(),console.log("history",e),0!==e.length&&(this.transactionId=e[e.length-1].id),(s=this.transactionHistory).push.apply(s,e),console.log("onLoadTransactionHistory",this.transactionHistory,this.transactionId),[3,4];case 3:return n=r.sent(),console.error("onLoadTransactionHistory",n),[3,4];case 4:return this.$store.commit("stopLoading"),[2]}})})},e.prototype.validation=function(){return this.errorMessages=[],console.log(this.sendCoinInfo),40!==this.sendCoinInfo.address.length&&this.errorMessages.push('Address (except "-") is 40 characters'),/^[a-zA-Z0-9-]+$/.test(this.sendCoinInfo.address)||this.errorMessages.push("Invalid input"),this.sendCoinInfo.message.length>1024&&this.errorMessages.push("Maximum number of characters in message has exceeded"),this.errorMessages},e.prototype.clear=function(){this.sendCoinInfo={address:"",amount:0,message:""}},o["b"]([Object(i["b"])("FetchLoadBalanceUseCase")],e.prototype,"fetchLoadBalanceUseCase",void 0),o["b"]([Object(i["b"])("FetchLoadWalletUseCase")],e.prototype,"fetchLoadWalletUseCase",void 0),o["b"]([Object(i["b"])("FetchSendCoinUseCase")],e.prototype,"fetchSendCoinUseCase",void 0),o["b"]([Object(i["b"])("FetchLoadTransactionHistoryUseCase")],e.prototype,"fetchLoadTransactionHistoryUseCase",void 0),o["b"]([Object(i["e"])("wallet.address")],e.prototype,"onValueChange",null),e=o["b"]([Object(i["a"])({name:"HomePage",computed:Object(b["b"])(["isLoading"]),filters:{dateFormat:function(t){return Object(m["format"])(t,"YYYY/MM/DD HH:mm:ss")}}})],e),e}(i["d"]),H=C,k=H,x=(n("15a3"),Object(d["a"])(k,v,y,!1,null,"14e4d5cb",null)),L=x.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transactionpage"},[null!==t.transactionHistory?n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-flex",[n("div",{staticStyle:{margin:"8px"}},[n("h2",[t._v("Transaction detail")])]),n("table",{staticClass:"table__list",attrs:{border:"1"}},[n("tr",[n("td",{staticClass:"table__key",attrs:{width:"30%"}},[t._v("id")]),n("td",{staticClass:"table__value",attrs:{width:"70%"}},[t._v(t._s(t.transactionHistory.id))])]),n("tr",[n("td",{staticClass:"table__key",attrs:{width:"30%"}},[t._v("fromAddress")]),n("td",{staticClass:"table__value",attrs:{width:"70%"}},[t._v(t._s(t.transactionHistory.fromAddress))])]),n("tr",[n("td",{staticClass:"table__key",attrs:{width:"30%"}},[t._v("toAddress")]),n("td",{staticClass:"table__value",attrs:{width:"70%"}},[t._v(t._s(t.transactionHistory.toAddress))])]),n("tr",[n("td",{staticClass:"table__key",attrs:{width:"30%"}},[t._v("amount")]),n("td",{staticClass:"table__value",attrs:{width:"70%"}},[t._v(t._s(t.transactionHistory.amount))])]),n("tr",[n("td",{staticClass:"table__key",attrs:{width:"30%"}},[t._v("fee")]),n("td",{staticClass:"table__value",attrs:{width:"70%"}},[t._v(t._s(t.transactionHistory.fee))])]),n("tr",[n("td",{staticClass:"table__key",attrs:{width:"30%"}},[t._v("message")]),n("td",{staticClass:"table__value",attrs:{width:"70%"}},[t._v(t._s(t.transactionHistory.message))])])])])],1):t._e()],1)},A=[],I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transactionHistory=null,e}return o["c"](e,t),e.prototype.mounted=function(){this.configure(),console.log(this.transactionId)},e.prototype.configure=function(){return o["a"](this,void 0,void 0,function(){return o["d"](this,function(t){return this.onLoadTransactionHistory(),[2]})})},e.prototype.onLoadTransactionHistory=function(){return o["a"](this,void 0,void 0,function(){var t,e;return o["d"](this,function(n){switch(n.label){case 0:if(this.$store.commit("startLoading"),void 0===this.transactionId)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this.fetchLoadTransactionHistoryUseCase.executeTransferHistory(this.transactionId)];case 2:return t.transactionHistory=n.sent(),console.log(this.transactionHistory),[3,4];case 3:return e=n.sent(),console.error(e),[3,4];case 4:return this.$store.commit("stopLoading"),[2]}})})},o["b"]([Object(i["b"])("FetchLoadTransactionHistoryUseCase")],e.prototype,"fetchLoadTransactionHistoryUseCase",void 0),o["b"]([Object(i["c"])()],e.prototype,"transactionId",void 0),e=o["b"]([Object(i["a"])({name:"TransactionPage",computed:Object(b["b"])(["isLoading"]),filters:{dateFormat:function(t){return Object(m["format"])(t,"YYYY/MM/DD HH:mm:ss")}}})],e),e}(i["d"]),S=I,O=S,j=(n("3633"),Object(d["a"])(O,T,A,!1,null,"74d542a6",null)),M=j.exports;s["default"].use(p["a"]);var F=new p["a"]({mode:"history",base:"/nem2-wallet/",routes:[{path:"/",name:"home_page",component:L},{path:"/transaction_page/:transactionId",name:"transaction_page",component:M,props:!0}]});s["default"].use(b["a"]);var U=new b["a"].Store({state:{isLoading:!1},mutations:{stopLoading:function(t){t.isLoading=!1},startLoading:function(t){t.isLoading=!0}},actions:{}}),P=n("9483");Object(P["a"])("/nem2-wallet/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var B=n("ce5b"),K=n.n(B),N=(n("cc20"),n("7869")),E=n.n(N),$=n("6112"),R=n.n($),W=function(){function t(t){this.repository=t}return t.prototype.execute=function(t){return o["a"](this,void 0,void 0,function(){var e;return o["d"](this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.repository.loadBalance(t)];case 1:return[2,n.sent()];case 2:throw e=n.sent(),e;case 3:return[2]}})})},t}(),J=function(){function t(t){this.repository=t}return t.prototype.execute=function(){return o["a"](this,void 0,void 0,function(){var t,e;return o["d"](this,function(n){switch(n.label){case 0:return[4,this.repository.loadWallet()];case 1:return t=n.sent(),void 0===t?[3,2]:(e=t,[3,4]);case 2:return[4,this.repository.createWallet()];case 3:e=n.sent(),n.label=4;case 4:return[2,e]}})})},t}(),D=function(){function t(t,e){this.transactionRepository=t,this.walletRepository=e}return t.prototype.execute=function(t,e,n){return o["a"](this,void 0,void 0,function(){var s,r,a;return o["d"](this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.walletRepository.loadWallet()];case 1:return s=o.sent(),r=s.privateKey,[4,this.transactionRepository.sendAsset(r,t,e,n)];case 2:return[2,o.sent()];case 3:throw a=o.sent(),a;case 4:return[2]}})})},t}(),q=function(){function t(t,e){this.transactionRepository=t,this.walletRepository=e}return t.prototype.executeTransferHistory=function(t){return o["a"](this,void 0,void 0,function(){var e;return o["d"](this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.transactionRepository.transactionHistory(t)];case 1:return[2,n.sent()];case 2:throw e=n.sent(),e;case 3:return[2]}})})},t.prototype.executeTransferHistoryAll=function(t,e){return o["a"](this,void 0,void 0,function(){var n,s,r;return o["d"](this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.walletRepository.loadWallet()];case 1:return n=a.sent(),s=n.publicKey,[4,this.transactionRepository.transactionHistoryAll(s,t,e)];case 2:return[2,a.sent()];case 3:throw r=a.sent(),r;case 4:return[2]}})})},t}(),Y=n("a002"),V=n.n(Y),G=function(){function t(t,e,n,s){this.address=t,this.publicKey=e,this.privateKey=n,this.networkType=s}return t.prototype.toJSON=function(){return{address:this.address,publicKey:this.publicKey,privateKey:this.privateKey,networkType:this.networkType}},t}(),X=function(){function t(t){this.wrapper=t,this.localStorageKey="nem2-wallet"}return t.prototype.createWallet=function(){return o["a"](this,void 0,void 0,function(){var t;return o["d"](this,function(e){switch(e.label){case 0:return t=this.wrapper.createAccount(),[4,V.a.setItem(this.localStorageKey,t.toJSON())];case 1:return e.sent(),[2,t]}})})},t.prototype.loadWallet=function(){return o["a"](this,void 0,void 0,function(){var t;return o["d"](this,function(e){switch(e.label){case 0:return[4,V.a.getItem(this.localStorageKey)];case 1:return t=e.sent(),console.log("loadWallet",t),null!==t?[2,new G("address"in t?t.address:void 0,"publicKey"in t?t.publicKey:void 0,"privateKey"in t?t.privateKey:void 0,"networkType"in t?t.networkType:void 0)]:[2,void 0]}})})},t.prototype.loadBalance=function(t){return o["a"](this,void 0,void 0,function(){var e;return o["d"](this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.wrapper.loadBalance(t)];case 1:return[2,n.sent()];case 2:throw e=n.sent(),e;case 3:return[2]}})})},t}(),z=function(){function t(t){this.wrapper=t}return t.prototype.sendAsset=function(t,e,n,s){return o["a"](this,void 0,void 0,function(){var r;return o["d"](this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.wrapper.sendAsset(t,e,n,s)];case 1:return[2,a.sent()];case 2:throw r=a.sent(),r;case 3:return[2]}})})},t.prototype.transactionHistory=function(t){return o["a"](this,void 0,void 0,function(){var e;return o["d"](this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.wrapper.transactionHistory(t)];case 1:return[2,n.sent()];case 2:throw e=n.sent(),e;case 3:return[2]}})})},t.prototype.transactionHistoryAll=function(t,e,n){return o["a"](this,void 0,void 0,function(){var s;return o["d"](this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.wrapper.transactionHistoryAll(t,e,n)];case 1:return[2,r.sent()];case 2:throw s=r.sent(),s;case 3:return[2]}})})},t}(),Z=n("db6a"),Q=n("a6c5"),tt=n("ebb6"),et=n("5670"),nt=n("1758"),st=function(){function t(t,e,n,s,r,a,o,i,c){this.id=t,this.amount=e,this.fee=n,this.toAddress=s,this.fromAddress=r,this.message=a,this.date=o,this.hash=i,this.rawValue=c}return t}(),rt=function(){function t(t,e){this.hash=t,this.message=e}return t}(),at=function(){function t(t,e,n,s){this.host=t,this.port=e,this.network=n,this.networkGenerationHash=s,this.endpoint=t+":"+e,this.accountHttp=new Z["AccountHttp"](this.endpoint),this.mosaicHttp=new Z["MosaicHttp"](this.endpoint),this.mosaicService=new Z["MosaicService"](this.accountHttp,this.mosaicHttp),this.transactionHttp=new Z["TransactionHttp"](this.endpoint),this.blockHttp=new Z["BlockHttp"](this.endpoint),console.log(this.host,this.port,this.network,this.endpoint,this.networkGenerationHash)}return t.prototype.createAccount=function(){var t=Z["Account"].generateNewAccount(this.network);return new G(t.address.plain(),t.publicKey,t.privateKey,t.address.networkType.valueOf())},t.prototype.loadBalance=function(t){return o["a"](this,void 0,void 0,function(){var e,n=this;return o["d"](this,function(s){return e=Z["Address"].createFromRawAddress(t),[2,new Promise(function(t,s){n.mosaicService.mosaicsAmountViewFromAddress(e).pipe(Object(Q["a"])(function(t){return t})).subscribe(function(e){return t(e.relativeAmount())},function(t){return s(t)})})]})})},t.prototype.sendAsset=function(t,e,n,s){return o["a"](this,void 0,void 0,function(){var r,a,i,c,u=this;return o["d"](this,function(o){return r=Z["Address"].createFromRawAddress(e),a=Z["TransferTransaction"].create(Z["Deadline"].create(),r,[Z["NetworkCurrencyMosaic"].createRelative(n)],void 0!==s?Z["PlainMessage"].create(s):Z["PlainMessage"].create(""),this.network),i=Z["Account"].createFromPrivateKey(t,this.network),c=i.sign(a,this.networkGenerationHash),[2,new Promise(function(t,e){u.transactionHttp.announce(c).pipe(Object(tt["a"])(function(t){return new rt(c.hash,t.message)})).subscribe(function(e){return t(e)},function(t){return e(t)})})]})})},t.prototype.transactionHistory=function(t){return o["a"](this,void 0,void 0,function(){var e=this;return o["d"](this,function(n){return[2,new Promise(function(n,s){var r;e.transactionHttp.getTransaction(t).pipe(Object(et["a"])(function(t){return t instanceof Z["TransferTransaction"]}),Object(tt["a"])(function(t){return r=t,r}),Object(tt["a"])(function(t){return e.blockHttp.getBlockByHeight(t.transactionInfo.height.compact())}),Object(Q["a"])(function(t){return t}),Object(tt["a"])(function(t){return new st(r.transactionInfo.id,0!==r.mosaics.length?r.mosaics[0].amount.compact()/_.divisibility():0,r.maxFee.compact(),r.recipient instanceof Z["Address"]?r.recipient.plain():"",void 0!==r.signer?r.signer.address.plain():"",r.message.payload,new Date(t.timestamp.compact()),r.transactionInfo.hash,r)})).subscribe(function(t){return n(t)},function(t){return s(t)})})]})})},t.prototype.transactionHistoryAll=function(t,e,n){return o["a"](this,void 0,void 0,function(){var s,r;return o["d"](this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),s=Z["PublicAccount"].createFromPublicKey(t,this.network),[4,this._transactionHistory(s,new Z["QueryParams"](e,n,Z["Order"].DESC))];case 1:return[2,a.sent()];case 2:throw r=a.sent(),r;case 3:return[2]}})})},t.prototype._transactionHistory=function(t,e){var n=this;return new Promise(function(s,r){var a=[];n.accountHttp.transactions(t,e).pipe(Object(Q["a"])(function(t){return a=t.filter(function(t){return t instanceof Z["TransferTransaction"]}).map(function(t){return t}).filter(function(t){return void 0!==t.transactionInfo&&t.transactionInfo instanceof Z["TransactionInfo"]})}),Object(tt["a"])(function(t){return n.blockHttp.getBlockByHeight(t.transactionInfo.height.compact())}),Object(nt["a"])(),Object(tt["a"])(function(t){return console.log(t),a.map(function(e){var n=t.filter(function(t){return t.blockTransactionsHash===e.transactionInfo.hash})[0];return new st(e.transactionInfo.id,0!==e.mosaics.length?e.mosaics[0].amount.compact()/_.divisibility():0,e.maxFee.compact(),e.recipient instanceof Z["Address"]?e.recipient.plain():"",void 0!==e.signer?e.signer.address.plain():"",e.message.payload,new Date(n.timestamp.compact()),e.transactionInfo.hash,e)})})).subscribe(function(t){return s(t)},function(t){return r(t)})})},t}(),ot="https://catapult-test.opening-line.jp",it="3001",ct=Number("144"),ut="453052FDC4EB23BF0D7280C103F7797133A633B68A81986165B76FCE248AB235",lt=new at(ot,it,ct,ut),dt=new X(lt),ht=new z(lt),ft={FetchLoadBalanceUseCase:new W(dt),FetchLoadWalletUseCase:new J(dt),FetchSendCoinUseCase:new D(ht,dt),FetchLoadTransactionHistoryUseCase:new q(ht,dt)};s["default"].use(K.a),s["default"].use(E.a,{defaultType:"bottom",duration:3e3,wordWrap:!0,width:"280px"}),s["default"].use(R.a),s["default"].config.productionTip=!1,new s["default"]({provide:ft,router:F,store:U,render:function(t){return t(f)}}).$mount("#app")}});
//# sourceMappingURL=app.1751bc3f.js.map